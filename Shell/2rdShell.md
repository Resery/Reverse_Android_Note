# 二代抽取壳的实现

## 前言

一代壳还是很容易就可以被脱掉的，所以为了加强防护就出现了二代壳，这篇文章主要会介绍下如何再 Dalvik 和 Art 中实现一个简单的二代抽取壳，但是这篇文章中不会介绍如何脱掉一个抽取壳，这将会在另一篇文章中进行介绍。

## 二代抽取壳实现原理

一代壳是对 dex 文件整体进行加解密，二代壳的处理粒度变成了函数级别，针对 dex 文件中的类二代壳会将其抽取出来，在运行时再动态的把这个类填充回去。其大致原理就是这样的。

## Dalvik



## Art